<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¼¢å­—ãƒžã‚¹ã‚¿ãƒ¼ - Kanji Master</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1></h1>
      <div class="nav-tabs">
        <button class="tab-btn active" data-page="grid"></button>
        <button class="tab-btn" data-page="study"></button>
      </div>
      <div class="data-controls">
        <button class="data-btn" id="language-btn"></button>
        <button class="data-btn" id="dark-mode-btn" onclick="app.toggleDarkMode()">ðŸŒ™</button>
        <button class="data-btn" id="export-btn"></button>
        <button class="data-btn" id="import-btn"></button>
        <input type="file" id="import-file" accept=".json">
      </div>
    </header>
    
    <!-- Grid Page -->
    <div id="grid-page" class="page active">
      <div class="legend">
        <div class="legend-item">
          <div class="legend-color" style="background: black"></div>
          <span></span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #555"></div>
          <span></span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #888"></div>
          <span></span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #bbb"></div>
          <span></span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: white"></div>
          <span></span>
        </div>
      </div>
      
      <div class="stats">
        <div class="stat-card">
          <span class="stat-value" id="total-kanji">0</span>
          <span class="stat-label" id="stat-total"></span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="mastered-count">0</span>
          <span class="stat-label" id="stat-mastered"></span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="learning-count">0</span>
          <span class="stat-label" id="stat-progress"></span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="unknown-count">0</span>
          <span class="stat-label" id="stat-unknown"></span>
        </div>
      </div>
      
      <div style="margin-bottom: 15px; padding: 10px; border: 1px solid black; display: flex; align-items: center; gap: 10px;">
        <label for="grid-sort" id="label-grid-sort" style="font-weight: 500;"></label>
        <select id="grid-sort" onchange="app.changeGridSort()" style="width: auto; min-width: 200px;">
          <option value="default" id="grid-sort-default"></option>
          <option value="frequency" id="grid-sort-frequency"></option>
          <option value="grade" id="grid-sort-grade"></option>
          <option value="jlpt" id="grid-sort-jlpt"></option>
          <option value="strokes" id="grid-sort-strokes"></option>
          <option value="proficiency" id="grid-sort-proficiency"></option>
        </select>
      </div>
      
      <div class="kanji-grid" id="kanji-grid"></div>
    </div>
    
    <!-- Study Page -->
    <div id="study-page" class="page">
      <div style="margin-bottom: 15px;">
        <button id="toggle-filters-btn" onclick="app.toggleFilters()" style="width: auto; padding: 8px 16px;">
          <span id="toggle-filters-text"></span> <span id="toggle-filters-icon">â–¼</span>
        </button>
      </div>
      
      <div id="study-controls-container" class="study-controls">
        <div class="control-group">
          <label id="label-filter"></label>
          <select id="level-filter" onchange="app.startStudy()">
            <option value="all" id="filter-all"></option>
            <option value="unknown" id="filter-unknown"></option>
            <option value="learning" id="filter-learning"></option>
            <option value="familiar" id="filter-familiar"></option>
            <option value="known" id="filter-known"></option>
            <option value="review" id="filter-review"></option>
          </select>
        </div>
        <div class="control-group">
          <label id="label-jlpt"></label>
          <select id="jlpt-filter" onchange="app.startStudy()">
            <option value="all" id="jlpt-all"></option>
            <option value="5" id="jlpt-5"></option>
            <option value="4" id="jlpt-4"></option>
            <option value="3" id="jlpt-3"></option>
            <option value="2" id="jlpt-2"></option>
            <option value="1" id="jlpt-1"></option>
          </select>
        </div>
        <div class="control-group">
          <label id="label-grade"></label>
          <select id="grade-filter" onchange="app.startStudy()">
            <option value="all" id="grade-all"></option>
            <option value="1" id="grade-1"></option>
            <option value="2" id="grade-2"></option>
            <option value="3" id="grade-3"></option>
            <option value="4" id="grade-4"></option>
            <option value="5" id="grade-5"></option>
            <option value="6" id="grade-6"></option>
            <option value="8" id="grade-8"></option>
          </select>
        </div>
        <div class="control-group">
          <label id="label-strokes"></label>
          <select id="stroke-filter" onchange="app.startStudy()">
            <option value="all" id="stroke-all"></option>
            <option value="1-5" id="stroke-1-5"></option>
            <option value="6-10" id="stroke-6-10"></option>
            <option value="11-15" id="stroke-11-15"></option>
            <option value="16-20" id="stroke-16-20"></option>
            <option value="21+" id="stroke-21plus"></option>
          </select>
        </div>
        <div class="control-group">
          <label id="label-sort"></label>
          <select id="sort-option" onchange="app.startStudy()">
            <option value="random" id="sort-random"></option>
            <option value="frequency" id="sort-frequency"></option>
            <option value="level" id="sort-level"></option>
          </select>
        </div>
        <div class="control-group">
          <label id="label-limit"></label>
          <input type="number" id="study-limit" min="1" max="2000" value="20" onchange="app.startStudy()" style="width: 100%;">
        </div>
      </div>
      
      <div class="session-progress" id="session-progress"></div>
      
      <div class="study-card" id="study-card">
        <div class="study-options" style="margin-bottom: 20px;">
          <label style="margin-right: 15px; cursor: pointer;" id="label-kun">
            <input type="checkbox" id="show-kun" checked onchange="app.saveTogglePreferences(); app.updateDisplay()">
          </label>
          <label style="margin-right: 15px; cursor: pointer;" id="label-on">
            <input type="checkbox" id="show-on" checked onchange="app.saveTogglePreferences(); app.updateDisplay()">
          </label>
          <label style="margin-right: 15px; cursor: pointer;" id="label-meaning">
            <input type="checkbox" id="show-meaning" checked onchange="app.saveTogglePreferences(); app.updateDisplay()">
          </label>
          <label style="margin-right: 15px; cursor: pointer;" id="label-examples">
            <input type="checkbox" id="show-examples" onchange="app.saveTogglePreferences(); app.updateDisplay()">
          </label>
          <label style="margin-right: 15px; cursor: pointer;" id="label-stroke">
            <input type="checkbox" id="show-stroke-order" onchange="app.saveTogglePreferences(); app.updateDisplay()">
          </label>
          <label style="cursor: pointer;" id="label-context">
            <input type="checkbox" id="show-in-context" onchange="app.saveTogglePreferences(); app.updateContextDisplay()">
          </label>
        </div>
        
        <div class="kanji-display" id="current-kanji"></div>
        <div class="stroke-order" id="stroke-order" style="display: none;"></div>
        <div class="context-display" id="context-display" style="display: none;"></div>
        
        <button class="show-answer-btn" id="show-answer-btn" onclick="app.showAnswer()">
        </button>
        
        <div class="kanji-info" id="kanji-info">
          <div class="reading" id="kanji-reading"></div>
          <div class="meaning" id="kanji-meaning"></div>
          <div class="examples" id="kanji-examples"></div>
        </div>
        
        <div class="rating-buttons" id="rating-buttons">
          <button class="rating-btn" data-rating="0" onclick="app.rateCard(0)">
            <span id="rating-again"></span><br><small id="rating-learning"></small>
          </button>
          <button class="rating-btn" data-rating="1" onclick="app.rateCard(1)">
            <span id="rating-hard"></span><br><small id="rating-familiar"></small>
          </button>
          <button class="rating-btn" data-rating="2" onclick="app.rateCard(2)">
            <span id="rating-good"></span><br><small id="rating-known"></small>
          </button>
          <button class="rating-btn" data-rating="3" onclick="app.rateCard(3)">
            <span id="rating-easy"></span><br><small id="rating-mastered"></small>
          </button>
        </div>
      </div>
      
      <div class="no-kanji" id="no-kanji" style="display: none;">
        <p id="no-kanji-msg"></p>
        <p style="margin-top: 1rem;" id="no-kanji-hint"></p>
      </div>
    </div>
  </div>
  
  <div class="drop-overlay" id="drop-overlay">
    <div class="drop-message">
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
